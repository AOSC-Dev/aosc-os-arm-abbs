From bb11d07139efe0f5e4ce0e4afda32abdbe82fa9d Mon Sep 17 00:00:00 2001
From: Cristy <urban-warrior@imagemagick.org>
Date: Thu, 21 Sep 2017 06:53:56 -0400
Subject: [PATCH] https://github.com/ImageMagick/ImageMagick/issues/771

---
 coders/caption.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/coders/caption.c b/coders/caption.c
index a33c34088d..909543f176 100644
--- a/coders/caption.c
+++ b/coders/caption.c
@@ -208,10 +208,13 @@ static Image *ReadCAPTIONImage(const ImageInfo *image_info,
         high,
         low;
 
+      ssize_t
+        n;
+
       /*
         Auto fit text into bounding box.
       */
-      for ( ; ; draw_info->pointsize*=2.0)
+      for (n=0; n < 32; n++, draw_info->pointsize*=2.0)
       {
         text=AcquireString(caption);
         i=FormatMagickCaption(image,draw_info,split,&metrics,&text);
