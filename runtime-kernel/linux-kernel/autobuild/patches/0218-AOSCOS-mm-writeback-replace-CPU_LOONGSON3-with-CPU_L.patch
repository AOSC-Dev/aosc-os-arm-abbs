From d749531ec2d5e04845ce9a793e62b7e810994b56 Mon Sep 17 00:00:00 2001
From: Mingcong Bai <jeffbai@aosc.io>
Date: Tue, 10 Dec 2024 17:02:04 +0800
Subject: [PATCH 218/274] AOSCOS: mm: writeback: replace CPU_LOONGSON3 with
 CPU_LOONGSON64

Per commit 30ad29bb4888 ("MIPS: Loongson: Naming style cleanup and
rework"), rename the CPU_LOONGSON3 definition as CPU_LOONGSON64.

Fixes: "writeback: Limit maximum dirty data for Loongson-3"
Signed-off-by: Mingcong Bai <jeffbai@aosc.io>

Signed-off-by: Kexy Biscuit <kexybiscuit@aosc.io>
---
 mm/page-writeback.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mm/page-writeback.c b/mm/page-writeback.c
index 4c9e1a15cfa3..db8eb37f1c6f 100644
--- a/mm/page-writeback.c
+++ b/mm/page-writeback.c
@@ -2403,7 +2403,7 @@ static struct ctl_table vm_page_writeback_sysctls[] = {
  */
 void __init page_writeback_init(void)
 {
-#ifdef CONFIG_CPU_LOONGSON3
+#ifdef CONFIG_CPU_LOONGSON64
 	uint64_t x, d;
 	unsigned long ratio = dirty_background_ratio;
 	unsigned long avail = global_dirtyable_memory();
-- 
2.47.1

