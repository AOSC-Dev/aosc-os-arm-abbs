From 7c580ad935e37f486ad175d74249c15bf95e478c Mon Sep 17 00:00:00 2001
From: Mingcong Bai <jeffbai@aosc.io>
Date: Thu, 4 Jul 2024 22:58:36 +0800
Subject: [PATCH 1/2] fix(astyle_main.cpp): fix build against a recent change

Fixes: 8aeea822b9d34b3f83f983d395fb9797df9c98ab
---
 AStyle/src/astyle_main.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/AStyle/src/astyle_main.cpp b/AStyle/src/astyle_main.cpp
index 912b3055..40f16873 100644
--- a/AStyle/src/astyle_main.cpp
+++ b/AStyle/src/astyle_main.cpp
@@ -4226,13 +4226,13 @@ extern "C" EXPORT char* STDCALL AStyleMain(const char* pSourceIn,		// the source
 	{
 		out << formatter.nextLine();
 		if (formatter.hasMoreLines())
-			out << streamIterator.getOutputEOL();
+			out << streamIterator.getLastOutputEOL();
 		else
 		{
 			// this can happen if the file if missing a closing brace and break-blocks is requested
 			if (formatter.getIsLineReady())
 			{
-				out << streamIterator.getOutputEOL();
+				out << streamIterator.getLastOutputEOL();
 				out << formatter.nextLine();
 			}
 		}
-- 
2.45.2

