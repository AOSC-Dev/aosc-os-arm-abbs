From 27b417946ce9d76db0e97a5e619e625adec5354b Mon Sep 17 00:00:00 2001
From: Feiyang Chen <chenfeiyang@loongson.cn>
Date: Fri, 17 Jun 2022 10:34:43 +0800
Subject: [PATCH v4 121/123] drd/tests/pth_barrier_thr_cr: Suppress
 pthread_barrier_wait() race reports for glibc >= 2.34

---
 drd/tests/pth_barrier_thr_cr.supp | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/drd/tests/pth_barrier_thr_cr.supp b/drd/tests/pth_barrier_thr_cr.supp
index 653b2d293..34482ccb9 100644
--- a/drd/tests/pth_barrier_thr_cr.supp
+++ b/drd/tests/pth_barrier_thr_cr.supp
@@ -9,3 +9,14 @@
    fun:pthread_barrier_wait_intercept
    fun:pthread_barrier_wait
 }
+{
+   number-of-concurrent-pthead_barrier_wait()-calls-exceeds-barrier-count
+   drd:BarrierErr
+   fun:pthread_barrier_wait@*
+}
+{
+   number-of-concurrent-pthead_barrier_wait()-calls-exceeds-barrier-count
+   drd:BarrierErr
+   fun:pthread_barrier_wait_intercept
+   fun:pthread_barrier_wait@*
+}
-- 
2.39.1

