diff -Nrbu mozilla/comm/calendar/lightning/moz.build mozilla-OK/comm/calendar/lightning/moz.build
--- mozilla/comm/calendar/lightning/moz.build	2020-02-18 02:36:19.000000000 +0300
+++ mozilla-OK/comm/calendar/lightning/moz.build	2021-01-22 21:42:43.599356035 +0300
@@ -16,10 +16,7 @@
 
 TEST_DIRS += ['../test']
 
-if CONFIG['NIGHTLY_BUILD']:
-    DIST_SUBDIR = 'extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}'
-else:
-    DIST_SUBDIR = 'distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}'
+DIST_SUBDIR = 'extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}'
 export('DIST_SUBDIR')
 
 FINAL_TARGET_PP_FILES += [
diff -Nrbu mozilla/comm/mail/installer/allowed-dupes.mn mozilla-OK/comm/mail/installer/allowed-dupes.mn
--- mozilla/comm/mail/installer/allowed-dupes.mn	2020-10-20 22:10:59.000000000 +0300
+++ mozilla-OK/comm/mail/installer/allowed-dupes.mn	2021-01-22 21:42:43.599356035 +0300
@@ -34,25 +34,6 @@
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calFilter.js
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/calendar-js/calUtils.js
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calUtils.js
-# calendar on Release and Beta
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/imip.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/imip.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-invitations-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-invitations-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/lightning-widgets.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/lightning-widgets.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/accountCentral.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/accountCentral.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-daypicker.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-daypicker.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-alarm-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-alarm-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-management.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-management.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/calendar-js/calFilter.js
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calFilter.js
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/calendar-js/calUtils.js
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calUtils.js
 
 # Variants of paths in mozilla/browser/installer/allowed-dupes.mn:
 # bug 658850
diff -Nrbu mozilla/comm/mail/installer/package-manifest.in mozilla-OK/comm/mail/installer/package-manifest.in
--- mozilla/comm/mail/installer/package-manifest.in	2020-10-20 22:10:59.000000000 +0300
+++ mozilla-OK/comm/mail/installer/package-manifest.in	2021-01-22 21:42:43.599356035 +0300
@@ -653,11 +653,7 @@
 
 #ifdef MOZ_CALENDAR
 [calendar]
-#ifdef NIGHTLY_BUILD
 @RESPATH@/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/
-#else
-@RESPATH@/distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/
-#endif
 #endif
 @RESPATH@/components/nsINIProcessor.manifest
 @RESPATH@/components/nsINIProcessor.js
diff -Nrbu mozilla/comm/suite/app/Makefile.in mozilla-OK/comm/suite/app/Makefile.in
--- mozilla/comm/suite/app/Makefile.in	2020-12-22 14:42:59.000000000 +0300
+++ mozilla-OK/comm/suite/app/Makefile.in	2021-01-22 21:43:12.770128905 +0300
@@ -79,8 +79,7 @@
 
 # Make extensions end up as XPIs instead of flat chrome when doing omni.jar.
 # Extensions that appear in dist/bin/extensions will get bundled with the
-# application, ones that appear in dist/bin/distribution/extensions will be
-# copied to the profile in installed builds.
+# application.
 # NOTE: This is a hack to run this at the end of compilation, would be nicer
 # if this was done right away for built-in extensions in omnijar mode.
 
@@ -105,9 +104,7 @@
 	$(foreach dir,$(filter-out $(DONOTPACK),$(subst $(STAGEDIST)/,,$(wildcard $(STAGEDIST)/*))),$(_PACKAGE_EXTENSIONS))
 
 tools::
-	$(NSINSTALL) -D $(DIST)/bin/distribution/extensions
 	@$(MAKE) pack-ext STAGEDIST="$(DIST)/bin/extensions"
-	@$(MAKE) pack-ext STAGEDIST="$(DIST)/bin/distribution/extensions"
 
 # Additional macOS build steps.
 ifeq (cocoa,$(MOZ_WIDGET_TOOLKIT))
diff -Nrbu mozilla/comm/suite/app/profile/suite-prefs.js mozilla-OK/comm/suite/app/profile/suite-prefs.js
--- mozilla/comm/suite/app/profile/suite-prefs.js	2020-11-11 01:06:33.000000000 +0300
+++ mozilla-OK/comm/suite/app/profile/suite-prefs.js	2021-01-22 21:43:00.700222911 +0300
@@ -577,9 +577,8 @@
 pref("extensions.minCompatibleAppVersion", "2.1");
 
 // Disable add-ons installed into the shared user and shared system areas by
-// default. This does not include the application directory. See the SCOPE
-// constants in AddonManager.jsm for values to use here
-pref("extensions.autoDisableScopes", 15);
+// default. See the SCOPE constants in AddonManager.jsm for values to use here.
+pref("extensions.autoDisableScopes", 11);
 
 // Enable add-ons installed and owned by the application, like the default theme.
 pref("extensions.startupScanScopes", 4);
diff -Nrbu mozilla/comm/suite/extensions/debugQA/jar.mn mozilla-OK/comm/suite/extensions/debugQA/jar.mn
--- mozilla/comm/suite/extensions/debugQA/jar.mn	2020-02-18 02:36:20.000000000 +0300
+++ mozilla-OK/comm/suite/extensions/debugQA/jar.mn	2021-01-22 21:43:12.770128905 +0300
@@ -2,7 +2,7 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
-[distribution/extensions/debugQA@mozilla.org] debugqa.jar:
+[extensions/debugQA@mozilla.org] debugqa.jar:
 % content debugqa %content/debugqa/
 % overlay chrome://navigator/content/navigatorOverlay.xul chrome://debugqa/content/debugQAMenuOverlay.xul
 % overlay chrome://editor/content/editor.xul chrome://debugqa/content/debugQAEditorOverlay.xul
diff -Nrbu mozilla/comm/suite/extensions/debugQA/locales/jar.mn mozilla-OK/comm/suite/extensions/debugQA/locales/jar.mn
--- mozilla/comm/suite/extensions/debugQA/locales/jar.mn	2020-02-18 02:36:20.000000000 +0300
+++ mozilla-OK/comm/suite/extensions/debugQA/locales/jar.mn	2021-01-22 21:43:12.770128905 +0300
@@ -4,7 +4,7 @@
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
 
-[distribution/extensions/debugQA@mozilla.org] debugqa.jar:
+[extensions/debugQA@mozilla.org] debugqa.jar:
 % locale debugQA @AB_CD@ %locale/@AB_CD@/debugQA/
   locale/@AB_CD@/debugQA/debugQAEditorOverlay.dtd           (en-US/debugQAEditorOverlay.dtd)
   locale/@AB_CD@/debugQA/debugQANavigatorOverlay.properties (en-US/debugQANavigatorOverlay.properties)
diff -Nrbu mozilla/comm/suite/extensions/debugQA/moz.build mozilla-OK/comm/suite/extensions/debugQA/moz.build
--- mozilla/comm/suite/extensions/debugQA/moz.build	2020-02-18 02:36:20.000000000 +0300
+++ mozilla-OK/comm/suite/extensions/debugQA/moz.build	2021-01-22 21:43:12.770128905 +0300
@@ -8,7 +8,7 @@
 
 DIRS += ['locales']
 
-FINAL_TARGET_PP_FILES.distribution.extensions['debugQA@mozilla.org'] += [
+FINAL_TARGET_PP_FILES.extensions['debugQA@mozilla.org'] += [
   'install.rdf.in'
 ]
 
diff -Nrbu mozilla/comm/suite/installer/allowed-dupes.mn mozilla-OK/comm/suite/installer/allowed-dupes.mn
--- mozilla/comm/suite/installer/allowed-dupes.mn	2020-04-01 13:52:46.000000000 +0300
+++ mozilla-OK/comm/suite/installer/allowed-dupes.mn	2021-01-22 21:43:00.700222911 +0300
@@ -281,7 +281,7 @@
 extensions/modern@themes.mozilla.org/chrome/modern/skin/modern/communicator/brand/throbber-anim.png
 chrome/classic/skin/classic/communicator/brand/throbber-anim.png
 
-# Lightning Nighly
+# Lightning
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/imip.css
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/imip.css
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-invitations-dialog.css
@@ -300,59 +300,40 @@
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calFilter.js
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/calendar-js/calUtils.js
 extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calUtils.js
-# Lightning Release and Beta
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/imip.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/imip.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-invitations-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-invitations-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-alarm-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-alarm-dialog.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-daypicker.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-daypicker.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/calendar/calendar-management.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/calendar/calendar-management.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/accountCentral.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/accountCentral.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/linux/lightning/lightning-widgets.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/skin/windows/lightning/lightning-widgets.css
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/calendar-js/calFilter.js
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calFilter.js
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/calendar-js/calUtils.js
-distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/chrome/calendar/content/calendar/calUtils.js
 
 # DOMi
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/titledsplitter-close.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/titledsplitter-close.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/iconImportant.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/iconImportant.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnFind.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnFind.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnFind-dis.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnFind-dis.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/ImageSearchItem.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/ImageSearchItem.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/dom/findDialog.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/dom/findDialog.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/inspector.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/inspector.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/sidebar.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/sidebar.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/domNode/domNode.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/domNode/domNode.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnSelecting-dis.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnSelecting-dis.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnSelecting-act.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnSelecting-act.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnSelecting.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnSelecting.gif
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/accessibleTree/accessibleTree.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/accessibleTree/accessibleTree.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/boxModel/boxModel.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/boxModel/boxModel.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/accessibleProps/accessibleProps.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/accessibleProps/accessibleProps.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/styleRules/styleRules.css
-distribution/extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/styleRules/styleRules.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/titledsplitter-close.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/titledsplitter-close.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/iconImportant.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/iconImportant.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnFind.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnFind.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnFind-dis.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnFind-dis.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/ImageSearchItem.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/ImageSearchItem.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/dom/findDialog.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/dom/findDialog.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/inspector.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/inspector.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/sidebar.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/sidebar.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/domNode/domNode.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/domNode/domNode.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnSelecting-dis.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnSelecting-dis.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnSelecting-act.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnSelecting-act.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/btnSelecting.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/btnSelecting.gif
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/accessibleTree/accessibleTree.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/accessibleTree/accessibleTree.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/boxModel/boxModel.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/boxModel/boxModel.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/accessibleProps/accessibleProps.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/accessibleProps/accessibleProps.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/classic/inspector/viewers/styleRules/styleRules.css
+extensions/inspector@mozilla.org/chrome/inspector/skin/modern/inspector/viewers/styleRules/styleRules.css
 
 # Linux
 chrome/icons/default/default16.png
diff -Nrbu mozilla/comm/suite/installer/package-manifest.in mozilla-OK/comm/suite/installer/package-manifest.in
--- mozilla/comm/suite/installer/package-manifest.in	2021-01-17 14:58:53.000000000 +0300
+++ mozilla-OK/comm/suite/installer/package-manifest.in	2021-01-22 21:43:00.700222911 +0300
@@ -878,27 +878,23 @@
 
 [chatzilla]
 #ifdef MOZ_IRC
-@RESPATH@/distribution/extensions/{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi
+@RESPATH@/extensions/{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi
 #ifdef LOCALE_BUILD
-@RESPATH@/distribution/extensions/langpack-@AB_CD@@chatzilla.mozilla.org.xpi
+@RESPATH@/extensions/langpack-@AB_CD@@chatzilla.mozilla.org.xpi
 #endif
 #endif
 
 [inspector]
 #ifdef MOZ_DOMINSPECTOR
-@RESPATH@/distribution/extensions/inspector@mozilla.org.xpi
+@RESPATH@/extensions/inspector@mozilla.org.xpi
 #endif
 
 [debugqa]
 #ifdef MOZ_PACKAGE_DEBUGQA
-@RESPATH@/distribution/extensions/debugQA@mozilla.org.xpi
+@RESPATH@/extensions/debugQA@mozilla.org.xpi
 #endif
 
 #ifdef MOZ_CALENDAR
 [calendar]
-#ifdef NIGHTLY_BUILD
 @RESPATH@/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}.xpi
-#else
-@RESPATH@/distribution/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}.xpi
-#endif
 #endif
diff -Nrbu mozilla/comm/suite/installer/removed-files.in mozilla-OK/comm/suite/installer/removed-files.in
--- mozilla/comm/suite/installer/removed-files.in	2021-01-17 14:58:53.000000000 +0300
+++ mozilla-OK/comm/suite/installer/removed-files.in	2021-01-22 21:43:00.701222903 +0300
@@ -721,7 +721,6 @@
 @DIR_MACOS@extensions/{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}/components/
 @DIR_MACOS@extensions/{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}/components/chatzilla-service.js
 @DIR_MACOS@extensions/{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}/install.rdf
-@DIR_MACOS@extensions/{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi
 @DIR_MACOS@extensions/{972ce4c6-7e08-4474-a285-3208198ce6fd}/
 @DIR_MACOS@extensions/{972ce4c6-7e08-4474-a285-3208198ce6fd}/chrome.manifest
 @DIR_MACOS@extensions/{972ce4c6-7e08-4474-a285-3208198ce6fd}/icon.png
@@ -734,13 +733,11 @@
 @DIR_MACOS@extensions/{f13b157f-b174-47e7-a34d-4815ddfdfeb8}/components/
 @DIR_MACOS@extensions/{f13b157f-b174-47e7-a34d-4815ddfdfeb8}/components/venkman-service.js
 @DIR_MACOS@extensions/{f13b157f-b174-47e7-a34d-4815ddfdfeb8}/install.rdf
-@DIR_MACOS@extensions/{f13b157f-b174-47e7-a34d-4815ddfdfeb8}.xpi
 @DIR_MACOS@extensions/debugQA@mozilla.org/
 @DIR_MACOS@extensions/debugQA@mozilla.org/install.rdf
 @DIR_MACOS@extensions/debugQA@mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/debugQA@mozilla.org/chrome/
 @DIR_MACOS@extensions/debugQA@mozilla.org/chrome/debugqa.jar
-@DIR_MACOS@extensions/debugQA@mozilla.org.xpi
 @DIR_MACOS@extensions/inspector@mozilla.org/
 @DIR_MACOS@extensions/inspector@mozilla.org/install.rdf
 @DIR_MACOS@extensions/inspector@mozilla.org/chrome.manifest
@@ -759,109 +756,91 @@
 @DIR_MACOS@extensions/inspector@mozilla.org/defaults/
 @DIR_MACOS@extensions/inspector@mozilla.org/defaults/preferences/
 @DIR_MACOS@extensions/inspector@mozilla.org/defaults/preferences/inspector.js
-@DIR_MACOS@extensions/inspector@mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-ca@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-ca@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-ca@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-ca@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-ca@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-ca@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-cs@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-cs@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-cs@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-cs@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-cs@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-cs@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-de@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-de@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-de@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-de@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-de@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-de@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-es-ES@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-es-ES@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-es-ES@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-es-ES@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-es-ES@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-es-ES@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-fi@chatzilla.mozilla.org/install.rdf
 @DIR_MACOS@extensions/langpack-fi@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-fi@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-fi@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-fi@chatzilla.mozilla.org/install.js
-@DIR_MACOS@extensions/langpack-fi@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-fr@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-fr@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-fr@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-fr@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-fr@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-fr@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-it@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-it@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-it@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-it@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-it@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-it@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-ja@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-ja@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-ja@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-ja@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-ja@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-ja@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-ja-JP-mac@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-ja-JP-mac@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-ja-JP-mac@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-ja-JP-mac@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-ja-JP-mac@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-ja-JP-mac@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-nb-NO@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-nb-NO@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-nb-NO@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-nb-NO@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-nb-NO@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-nb-NO@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-pl@chatzilla.mozilla.org/install.rdf
 @DIR_MACOS@extensions/langpack-pl@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-pl@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-pl@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-pl@chatzilla.mozilla.org/install.js
-@DIR_MACOS@extensions/langpack-pl@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-pt-BR@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-pt-BR@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-pt-BR@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-pt-BR@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-pt-BR@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-pt-BR@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-pt-PT@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-pt-PT@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-pt-PT@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-pt-PT@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-pt-PT@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-pt-PT@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-ru@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-ru@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-ru@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-ru@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-ru@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-ru@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-si@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-si@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-si@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-si@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-si@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-si@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-sk@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-sk@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-sk@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-sk@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-sk@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-sk@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-sv-SE@chatzilla.mozilla.org/chrome/chatzilla.jar
 @DIR_MACOS@extensions/langpack-sv-SE@chatzilla.mozilla.org/chrome/chatzilla.manifest
 @DIR_MACOS@extensions/langpack-sv-SE@chatzilla.mozilla.org/chrome.manifest
 @DIR_MACOS@extensions/langpack-sv-SE@chatzilla.mozilla.org/install.js
 @DIR_MACOS@extensions/langpack-sv-SE@chatzilla.mozilla.org/install.rdf
-@DIR_MACOS@extensions/langpack-sv-SE@chatzilla.mozilla.org.xpi
 @DIR_MACOS@extensions/langpack-ca@venkman.mozilla.org/chrome/venkman.jar
 @DIR_MACOS@extensions/langpack-ca@venkman.mozilla.org/chrome/venkman.manifest
 @DIR_MACOS@extensions/langpack-ca@venkman.mozilla.org/chrome.manifest
diff -Nrbu mozilla/comm/suite/installer/windows/nsis/custom.nsi mozilla-OK/comm/suite/installer/windows/nsis/custom.nsi
--- mozilla/comm/suite/installer/windows/nsis/custom.nsi	2020-02-18 02:36:20.000000000 +0300
+++ mozilla-OK/comm/suite/installer/windows/nsis/custom.nsi	2021-01-22 21:43:00.701222903 +0300
@@ -4,10 +4,10 @@
 
 !macro checkSuiteComponents
   ; If no extensions are available skip the components page
-  ${Unless} ${FileExists} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
-  ${AndUnless} ${FileExists} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi"
-  ${AndUnless} ${FileExists} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi"
-  ${AndUnless} ${FileExists} "$EXEDIR\optional\distribution\extensions\{f13b157f-b174-47e7-a34d-4815ddfdfeb8}.xpi"
+  ${Unless} ${FileExists} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+  ${AndUnless} ${FileExists} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi"
+  ${AndUnless} ${FileExists} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi"
+  ${AndUnless} ${FileExists} "$EXEDIR\optional\extensions\{f13b157f-b174-47e7-a34d-4815ddfdfeb8}.xpi"
     Abort
   ${EndUnless}
 !macroend
@@ -28,7 +28,7 @@
   ; Seperation between titles/text
   StrCpy $R4 25
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Type   "checkbox"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Text   "$(CHATZILLA_TITLE)"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Left   "15"
@@ -37,9 +37,9 @@
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Bottom "$R3"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" State  "1"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Flags  "GROUP"
-    ${GetSize} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi" "/S=0K" $0 $8 $9
-    ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
-      ${GetSize} "$EXEDIR\optional\distribution\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi" "/S=0K" $1 $8 $9
+    ${GetSize} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi" "/S=0K" $0 $8 $9
+    ${If} ${FileExists} "$EXEDIR\optional\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
+      ${GetSize} "$EXEDIR\optional\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi" "/S=0K" $1 $8 $9
       IntOp $0 $0 + $1
     ${EndIf}
     SectionSetSize ${CZ_IDX} $0
@@ -51,7 +51,7 @@
     SectionSetText ${CZ_IDX} ""
   ${EndIf}
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi"
     ; Set the details for DOMI
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Type   "checkbox"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Text   "$(DOMI_TITLE)"
@@ -61,7 +61,7 @@
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Bottom "$R3"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" State  "1"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Flags  "GROUP"
-    ${GetSize} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi" "/S=0K" $0 $8 $9
+    ${GetSize} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi" "/S=0K" $0 $8 $9
     SectionSetSize ${DOMI_IDX} $0
     IntOp $R1 $R1 + 1
     IntOp $R2 $R2 + $R4
@@ -71,7 +71,7 @@
     SectionSetText ${DOMI_IDX} ""
   ${EndIf}
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Type   "checkbox"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Text   "$(DEBUGQA_TITLE)"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Left   "15"
@@ -80,7 +80,7 @@
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Bottom "$R3"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" State  "1"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Flags  "GROUP"
-    ${GetSize} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi" "/S=0K" $0 $8 $9
+    ${GetSize} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi" "/S=0K" $0 $8 $9
     SectionSetSize ${DEBUG_IDX} $0
     IntOp $R1 $R1 + 1
     IntOp $R2 $R2 + $R4
@@ -96,7 +96,7 @@
   ; Bottom of label box
   StrCpy $R3 47
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Type   "label"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Text   "$(CHATZILLA_TEXT)"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Left   "30"
@@ -108,7 +108,7 @@
     IntOp $R3 $R3 + $R4
   ${EndIf}
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Type   "label"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Text   "$(DOMI_TEXT)"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Left   "30"
@@ -120,7 +120,7 @@
     IntOp $R3 $R3 + $R4
   ${EndIf}
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Type   "label"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Text   "$(DEBUGQA_TEXT)"
     WriteINIStr "$PLUGINSDIR\components.ini" "Field $R1" Left   "30"
diff -Nrbu mozilla/comm/suite/installer/windows/nsis/installer.nsi mozilla-OK/comm/suite/installer/windows/nsis/installer.nsi
--- mozilla/comm/suite/installer/windows/nsis/installer.nsi	2020-02-18 02:36:20.000000000 +0300
+++ mozilla-OK/comm/suite/installer/windows/nsis/installer.nsi	2021-01-22 21:43:00.702222896 +0300
@@ -203,16 +203,14 @@
     ; If ChatZilla is installed and this install includes ChatZilla remove it
     ; from the installation directory. This will remove it if the user
     ; deselected ChatZilla on the components page.
-    ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
-      ${DeleteFile} "$INSTDIR\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+    ${If} ${FileExists} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
       ${DeleteFile} "$INSTDIR\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
       ${If} ${FileExists} "$INSTDIR\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}"
         RmDir /r "$INSTDIR\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}"
       ${EndIf}
     ${EndIf}
-    ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
-      ${DeleteFile} "$INSTDIR\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
-      ${DeleteFile} "$INSTDIR\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+    ${If} ${FileExists} "$EXEDIR\optional\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
+      ${DeleteFile} "$INSTDIR\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
       ${If} ${FileExists} "$INSTDIR\extensions\langpack-${AB_CD}@chatzilla.mozilla.org"
         RmDir /r "$INSTDIR\extensions\langpack-${AB_CD}@chatzilla.mozilla.org"
       ${EndIf}
@@ -221,8 +219,7 @@
     ; If DOMi is installed and this install includes DOMi remove it from
     ; the installation directory. This will remove it if the user deselected
     ; DOMi on the components page.
-    ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi"
-      ${DeleteFile} "$INSTDIR\distribution\extensions\inspector@mozilla.org.xpi"
+    ${If} ${FileExists} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi"
       ${DeleteFile} "$INSTDIR\extensions\inspector@mozilla.org.xpi"
       ${If} ${FileExists} "$INSTDIR\extensions\inspector@mozilla.org"
         RmDir /r "$INSTDIR\extensions\inspector@mozilla.org"
@@ -232,8 +229,7 @@
     ; If DebugQA is installed and this install includes DebugQA remove it
     ; from the installation directory. This will remove it if the user
     ; deselected DebugQA on the components page.
-    ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi"
-      ${DeleteFile} "$INSTDIR\distribution\extensions\debugQA@mozilla.org.xpi"
+    ${If} ${FileExists} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi"
       ${DeleteFile} "$INSTDIR\extensions\debugQA@mozilla.org.xpi"
       ${If} ${FileExists} "$INSTDIR\extensions\debugQA@mozilla.org"
         RmDir /r "$INSTDIR\extensions\debugQA@mozilla.org"
@@ -265,12 +261,6 @@
                       "$(ERROR_CREATE_DIRECTORY_PREFIX)" \
                       "$(ERROR_CREATE_DIRECTORY_SUFFIX)"
 
-  ; distribution/extensions must exist for the optional extensions to install
-  ; properly. Ensure it is present on install, no harm if it is empty.
-  ; CreateDirectory creates nested dirs if required. If already present we'll
-  ; Just fix ourselves on ClearErrors below
-  CreateDirectory "$INSTDIR\distribution\extensions"
-
   ; The MAPI DLL's are copied and the copies are then registered to lessen
   ; file in use errors on application update.
   ClearErrors
@@ -499,7 +489,7 @@
 SectionEnd
 
 Section /o "IRC Client" CZ_IDX
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
     SetDetailsPrint both
     DetailPrint $(STATUS_INSTALL_OPTIONAL)
     SetDetailsPrint none
@@ -512,17 +502,17 @@
     ${DeleteFile} "$INSTDIR\distribution\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
     ClearErrors
     ${LogHeader} "Installing IRC Client"
-    CopyFiles /SILENT "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi" \
-                      "$INSTDIR\distribution\extensions\"
-    ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
-      CopyFiles /SILENT "$EXEDIR\optional\distribution\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi" \
-                        "$INSTDIR\distribution\extensions\"
+    CopyFiles /SILENT "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi" \
+                      "$INSTDIR\extensions\"
+    ${If} ${FileExists} "$EXEDIR\optional\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi"
+      CopyFiles /SILENT "$EXEDIR\optional\extensions\langpack-${AB_CD}@chatzilla.mozilla.org.xpi" \
+                        "$INSTDIR\extensions\"
     ${EndIf}
   ${EndIf}
 SectionEnd
 
 Section /o "Developer Tools" DOMI_IDX
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi"
     SetDetailsPrint both
     DetailPrint $(STATUS_INSTALL_OPTIONAL)
     SetDetailsPrint none
@@ -532,13 +522,13 @@
     ${DeleteFile} "$INSTDIR\distribution\extensions\inspector@mozilla.org.xpi"
     ClearErrors
     ${LogHeader} "Installing Developer Tools"
-    CopyFiles /SILENT "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi" \
-                      "$INSTDIR\distribution\extensions\"
+    CopyFiles /SILENT "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi" \
+                      "$INSTDIR\extensions\"
   ${EndIf}
 SectionEnd
 
 Section /o "Debug and QA Tools" DEBUG_IDX
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi"
     SetDetailsPrint both
     DetailPrint $(STATUS_INSTALL_OPTIONAL)
     SetDetailsPrint none
@@ -548,8 +538,8 @@
     ${DeleteFile} "$INSTDIR\distribution\extensions\debugQA@mozilla.org.xpi"
     ClearErrors
     ${LogHeader} "Installing Debug and QA Tools"
-    CopyFiles /SILENT "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi" \
-                      "$INSTDIR\distribution\extensions\"
+    CopyFiles /SILENT "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi" \
+                      "$INSTDIR\extensions\"
   ${EndIf}
 SectionEnd
 
@@ -717,7 +707,7 @@
   ; don't exist, debugQA will be Field 2).
   StrCpy $R1 2
 
- ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
+ ${If} ${FileExists} "$EXEDIR\optional\extensions\{59c81df5-4b7a-477b-912d-4e0fdf64e5f2}.xpi"
     ${MUI_INSTALLOPTIONS_READ} $R0 "components.ini" "Field $R1" "State"
     ; State will be 1 for checked and 0 for unchecked so we can use that to set
     ; the section flags for installation.
@@ -727,7 +717,7 @@
     SectionSetFlags ${CZ_IDX} 0 ; Disable install for chatzilla
   ${EndIf}
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\inspector@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\inspector@mozilla.org.xpi"
     ${MUI_INSTALLOPTIONS_READ} $R0 "components.ini" "Field $R1" "State"
     ; State will be 1 for checked and 0 for unchecked so we can use that to set
     ; the section flags for installation.
@@ -737,7 +727,7 @@
     SectionSetFlags ${DOMI_IDX} 0 ; Disable install for DOMi
   ${EndIf}
 
-  ${If} ${FileExists} "$EXEDIR\optional\distribution\extensions\debugQA@mozilla.org.xpi"
+  ${If} ${FileExists} "$EXEDIR\optional\extensions\debugQA@mozilla.org.xpi"
     ${MUI_INSTALLOPTIONS_READ} $R0 "components.ini" "Field $R1" "State"
     ; State will be 1 for checked and 0 for unchecked so we can use that to set
     ; the section flags for installation.
diff -Nrbu mozilla/comm/suite/locales/Makefile.in mozilla-OK/comm/suite/locales/Makefile.in
--- mozilla/comm/suite/locales/Makefile.in	2020-12-23 17:51:32.000000000 +0300
+++ mozilla-OK/comm/suite/locales/Makefile.in	2021-01-22 21:43:12.771128898 +0300
@@ -147,9 +147,7 @@
 ifdef MOZ_IRC
 	$(MAKE) -C $(DEPTH)/extensions/irc/locales repackage-zip-$(AB_CD) STAGEDIST=$(STAGEDIST)
 endif
-	$(NSINSTALL) -D $(STAGEDIST)/distribution/extensions
 	$(MAKE) -C ../app pack-ext AB_CD=$(AB_CD) STAGEDIST=$(STAGEDIST)/extensions;
-	$(MAKE) -C ../app pack-ext AB_CD=$(AB_CD) STAGEDIST=$(STAGEDIST)/distribution/extensions;
 
 langpack: langpack-$(AB_CD)
 
diff -Nrbu mozilla/config/rules.mk mozilla-OK/config/rules.mk
--- mozilla/config/rules.mk	2020-12-22 14:42:29.000000000 +0300
+++ mozilla-OK/config/rules.mk	2021-01-22 21:40:58.127177298 +0300
@@ -1287,9 +1287,9 @@
 endif
 
 tools::
-	$(RM) -r '$(DIST)/bin/distribution$(DIST_SUBDIR:%=/%)/extensions/$(INSTALL_EXTENSION_ID)'
-	$(NSINSTALL) -D '$(DIST)/bin/distribution$(DIST_SUBDIR:%=/%)/extensions/$(INSTALL_EXTENSION_ID)'
-	$(call copy_dir,$(FINAL_TARGET),$(DIST)/bin/distribution$(DIST_SUBDIR:%=/%)/extensions/$(INSTALL_EXTENSION_ID))
+	$(RM) -r '$(DIST)/bin$(DIST_SUBDIR:%=/%)/extensions/$(INSTALL_EXTENSION_ID)'
+	$(NSINSTALL) -D '$(DIST)/bin$(DIST_SUBDIR:%=/%)/extensions/$(INSTALL_EXTENSION_ID)'
+	$(call copy_dir,$(FINAL_TARGET),$(DIST)/bin$(DIST_SUBDIR:%=/%)/extensions/$(INSTALL_EXTENSION_ID))
 
 endif
 
