From baa429ff1e4d1d9e77893f50819cc9806ac4158e Mon Sep 17 00:00:00 2001
From: Alberto Fanjul <albertofanjul@gmail.com>
Date: Tue, 2 Apr 2024 22:52:40 +0200
Subject: [PATCH 1/2] FROM UPSTREAM: fix details on dialog building

---
 gitg/commit/gitg-commit-dialog.vala | 2 +-
 gitg/gitg-window.vala               | 8 +++-----
 2 files changed, 4 insertions(+), 6 deletions(-)

diff --git a/gitg/commit/gitg-commit-dialog.vala b/gitg/commit/gitg-commit-dialog.vala
index 99f795cf33f5..9d3456a99330 100644
--- a/gitg/commit/gitg-commit-dialog.vala
+++ b/gitg/commit/gitg-commit-dialog.vala
@@ -938,7 +938,7 @@ class Dialog : Gtk.Dialog
 							try {
 								file.delete_async.end (res);
 							} catch (Error e) {
-								warning ("Error deleting %S file: %s", PREPARE_COMMIT_MSG_FILENAME, e.message);
+								warning ("Error deleting %s file: %s", PREPARE_COMMIT_MSG_FILENAME, e.message);
 							}
 						});
 					}
diff --git a/gitg/gitg-window.vala b/gitg/gitg-window.vala
index 4b60e045b5c9..74c5bc964e04 100644
--- a/gitg/gitg-window.vala
+++ b/gitg/gitg-window.vala
@@ -1112,14 +1112,12 @@ public class Window : Gtk.ApplicationWindow, GitgExt.Application, Initable
 
 	public void user_query(GitgExt.UserQuery query)
 	{
-		var dlg = new Gtk.MessageDialog(this,
+		var dlg = new Gtk.MessageDialog.with_markup(this,
 		                                Gtk.DialogFlags.MODAL,
 		                                query.message_type,
 		                                Gtk.ButtonsType.NONE,
-		                                "");
-
-		var primary = "<b>%s</b>".printf(Markup.escape_text(query.title));
-		dlg.set_markup(primary);
+		                                "<b>%s</b>",
+		                                query.title);
 
 		dlg.format_secondary_text("%s", query.message);
 

base-commit: 1adffb6b3ce97626f2ed23885d6d0e44a2764cbe
-- 
2.46.0

