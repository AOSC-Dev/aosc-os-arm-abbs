From fcd4b1c32646b9d9a5b116c39e4b3d8511c82f5c Mon Sep 17 00:00:00 2001
From: Mingcong Bai <jeffbai@aosc.io>
Date: Tue, 24 Dec 2024 07:38:52 -0800
Subject: [PATCH 11/14] AOSCOS: third_party/dav1d: add LoongArch architecture
 definitions

Link: https://github.com/AOSC-Dev/chromium-loongarch64/blob/439f324cc6443628e6c8184263f11e38f1ded5ea/chromium/chromium-131.0.6778.85.4004-loongarch64-dav1d.diff
Co-authored-by: Jiajie Chen <c@jia.je>
Signed-off-by: Mingcong Bai <jeffbai@aosc.io>
---
 .../dav1d/config/linux/loong64/config.h       | 45 +++++++++++++++++++
 1 file changed, 45 insertions(+)
 create mode 100644 third_party/dav1d/config/linux/loong64/config.h

diff --git a/third_party/dav1d/config/linux/loong64/config.h b/third_party/dav1d/config/linux/loong64/config.h
new file mode 100644
index 00000000000..44c60eb5281
--- /dev/null
+++ b/third_party/dav1d/config/linux/loong64/config.h
@@ -0,0 +1,45 @@
+/*
+ * Autogenerated by the Meson build system.
+ * Do not edit, your changes will be lost.
+ */
+
+#pragma once
+
+#define ARCH_AARCH64 0
+
+#define ARCH_ARM 0
+
+#define ARCH_PPC64LE 0
+
+#define ARCH_X86 0
+
+#define ARCH_X86_32 0
+
+#define ARCH_X86_64 0
+
+#define CONFIG_16BPC 1
+
+#define CONFIG_8BPC 1
+
+// #define CONFIG_LOG 1 -- Logging is controlled by Chromium
+
+#define ENDIANNESS_BIG 0
+
+#define HAVE_ASM 0
+
+#define HAVE_C11_GENERIC 1
+
+#define HAVE_CLOCK_GETTIME 1
+
+#define HAVE_DLSYM 1
+
+#define HAVE_POSIX_MEMALIGN 1
+
+// #define HAVE_PTHREAD_GETAFFINITY_NP 1 -- Controlled by Chomium
+
+// #define HAVE_PTHREAD_SETAFFINITY_NP 1 -- Controlled by Chomium
+
+#define HAVE_UNISTD_H 1
+
+#define TRIM_DSP_FUNCTIONS 1
+
-- 
2.47.1

