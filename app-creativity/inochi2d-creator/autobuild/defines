PKGNAME=inochi2d-creator
PKGSEC=graphics
PKGDES="Inochi2D Rigging Application"
PKGDEP="sdl2 mesa lua freetype gcc-runtime dbus desktop-file-utils liblphobos"
BUILDDEP="dub ldc llvm i2d-imgui cmake ninja inochi2d"
BUILDDEP__LOONGARCH64="$BUILDDEP mold"

USECLANG=1

# FIXME: ld.lld: error: lto.tmp: cannot link object files with different
# floating-point ABI from
# /usr/bin/../lib64/gcc/riscv64-aosc-linux-gnu/13.2.0/../../../../lib64/Scrt1.o
NOLTO__RISCV64=1

# FIXME: missing ldc, ICE on loongarch64
FAIL_ARCH="!(amd64|arm64|riscv64)"
