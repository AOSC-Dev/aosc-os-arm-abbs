# HG changeset patch
# User Ryan C. Gordon <icculus@icculus.org>
# Date 1517111418 18000
# Node ID d0142861559ccd4fde994fbd33c34fbdee25f84c
# Parent  607436eb1473e55db8d18e6de4c947b191f60f4a
xcf: don't double-free a pointer on bogus data.

free_xcf_hierarchy() frees the same pointer that this code manually frees.

diff -r 607436eb1473 -r d0142861559c IMG_xcf.c
--- a/IMG_xcf.c	Sat Jan 27 17:31:24 2018 -0500
+++ b/IMG_xcf.c	Sat Jan 27 22:50:18 2018 -0500
@@ -651,9 +651,6 @@
         fprintf (stderr, "Unknown Gimp image type (%d)\n", head->image_type);
         if (hierarchy)
         {
-          if (hierarchy->level_file_offsets)
-            SDL_free(hierarchy->level_file_offsets);
-         
           free_xcf_hierarchy(hierarchy);
         }
         if (level)     
